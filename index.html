<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Birthday Aditi!</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <!-- Custom Tailwind Config -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: '#ec4899', // pink-500
                            foreground: '#fff1f2', // pink-50
                        },
                        secondary: {
                            DEFAULT: '#a855f7', // purple-500
                            foreground: '#f5f3ff', // purple-50
                        },
                    },
                    keyframes: {
                        'fade-in': {
                            from: { opacity: 0 },
                            to: { opacity: 1 },
                        },
                        'slide-up': {
                            from: { transform: 'translateY(20px)', opacity: 0 },
                            to: { transform: 'translateY(0)', opacity: 1 },
                        },
                        'flicker': {
                            '0%': { transform: 'scale(1.0)', opacity: 0.9 },
                            '50%': { transform: 'scale(1.1)', opacity: 1 },
                            '100%': { transform: 'scale(1.0)', opacity: 0.9 },
                        },
                        'bounce': {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        'pulse': {
                            '0%, 100%': { opacity: 1 },
                            '50%': { opacity: 0.5 },
                        }
                    },
                    animation: {
                        'fade-in': 'fade-in 1s ease-out forwards',
                        'slide-up': 'slide-up 0.8s ease-out forwards',
                        'flicker': 'flicker 1.5s infinite',
                        'bounce': 'bounce 1s infinite',
                        'pulse': 'pulse 1.5s infinite',
                    }
                }
            }
        }
    </script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: '#8a4fff', // deep violet
                            foreground: '#f4ecff', // light violet
                        },
                        secondary: {
                            DEFAULT: '#6a5acd', // slate blue
                            foreground: '#e6e6fa', // lavender
                        },
                    },
                    backgroundImage: {
                        'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
                    },
                    boxShadow: {
                        'neon': '0 0 15px rgba(138, 79, 255, 0.5), 0 0 25px rgba(106, 90, 205, 0.3)',
                    },
                    keyframes: {
                        'float': {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        'pulse-glow': {
                            '0%, 100%': {
                                boxShadow: '0 0 10px rgba(138, 79, 255, 0.5)',
                                transform: 'scale(1)'
                            },
                            '50%': {
                                boxShadow: '0 0 20px rgba(138, 79, 255, 0.8)',
                                transform: 'scale(1.05)'
                            }
                        }
                    },
                    animation: {
                        'float': 'float 3s ease-in-out infinite',
                        'pulse-glow': 'pulse-glow 2s infinite'
                    }
                }
            }
        }
    </script>
    <script>tailwind.config = {

            darkMode: 'class',
            theme: {
                extend: {
                    colors: {
                        primary: {
                            DEFAULT: '#ec4899', // pink-500
                            foreground: '#fff1f2', // pink-50
                        }

                        ,
                        secondary: {
                            DEFAULT: '#a855f7', // purple-500
                            foreground: '#f5f3ff', // purple-50
                        }

                        ,
                    }

                    ,
                    keyframes: {
                        'fade-in': {
                            from: {
                                opacity: 0
                            }

                            ,
                            to: {
                                opacity: 1
                            }

                            ,
                        }

                        ,
                        'slide-up': {
                            from: {
                                transform: 'translateY(20px)', opacity: 0
                            }

                            ,
                            to: {
                                transform: 'translateY(0)', opacity: 1
                            }

                            ,
                        }

                        ,
                        'flicker': {
                            '0%': {
                                transform: 'scale(1.0)', opacity: 0.9
                            }

                            ,
                            '50%': {
                                transform: 'scale(1.1)', opacity: 1
                            }

                            ,
                            '100%': {
                                transform: 'scale(1.0)', opacity: 0.9
                            }

                            ,
                        }

                        ,
                        'bounce': {
                            '0%, 100%': {
                                transform: 'translateY(0)'
                            }

                            ,
                            '50%': {
                                transform: 'translateY(-10px)'
                            }

                            ,
                        }

                        ,
                        'pulse': {
                            '0%, 100%': {
                                opacity: 1
                            }

                            ,
                            '50%': {
                                opacity: 0.5
                            }

                            ,
                        }
                    }

                    ,
                    animation: {
                        'fade-in': 'fade-in 1s ease-out forwards',
                        'slide-up': 'slide-up 0.8s ease-out forwards',
                        'flicker': 'flicker 1.5s infinite',
                        'bounce': 'bounce 1s infinite',
                        'pulse': 'pulse 1.5s infinite',
                    }
                }
            }
        }

    </script>
    <style>
        /* Custom styles */
        .bg-gradient-text {
            background: linear-gradient(to right, #ec4899, #a855f7, #6366f1);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .animate-typing::after {
            content: '|';
            animation: pulse 1s infinite;
        }

        /* Dark mode styles */
        .dark {
            color-scheme: dark;
        }

        /* Canvas styles */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 50;
        }

        .bg-gradient-text {
            background: linear-gradient(to right, #ec4899, #a855f7, #6366f1);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .animate-typing::after {
            content: '|';
            animation: pulse 1s infinite;
        }

        /* Dark mode styles */
        .dark {
            color-scheme: dark;
        }

        /* Canvas styles */
        #confetti-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 50;
        }

        /* Ensure full page scroll */
        html,
        body {
            max-width: 100%;
            overflow-x: hidden;
            scroll-behavior: smooth;
        }

        body {
            background: linear-gradient(135deg, #1a0b2e, #3a1c5a);
            color: #e6e6fa;
        }

        .bg-gradient-text {
            background: linear-gradient(to right, #8a4fff, #6a5acd, #483d8b);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        /* Starry background effect */
        .starry-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: radial-gradient(ellipse at bottom, #1a0b2e 0%, #090211 100%);
            overflow: hidden;
        }

        .star {
            position: absolute;
            background-color: #fff;
            border-radius: 50%;
            animation: twinkle 2s infinite alternate;
        }

        @keyframes twinkle {
            0% {
                opacity: 0.3;
            }

            100% {
                opacity: 1;
            }
        }
    </style>
</head>

<body class="bg-gradient-to-br from-pink-100 to-purple-100 min-h-screen">
    <div class="starry-bg"></div>
    <!-- Confetti Canvas -->
    <canvas id="confetti-canvas" class="hidden"></canvas>

    <!-- Floating Balloons Container -->
    <div id="balloons-container" class="fixed inset-0 pointer-events-none overflow-hidden"></div>

    <!-- Header Controls -->
    <div class="absolute top-4 right-4 flex gap-2">
        <button id="music-toggle" class="rounded-full bg-white/80 shadow-md hover:bg-white p-2">
            <i data-lucide="volume-2" class="w-5 h-5"></i>
        </button>
    </div>


    <!-- Main Content -->
    <main class="container mx-auto px-4 py-16 flex flex-col items-center justify-center min-h-screen">
        <!-- Header -->
        <div class="text-center mb-16 animate-fade-in">
            <h1 class="text-5xl md:text-7xl font-bold bg-gradient-text mb-4">
                Happy Birthday Aditi!
            </h1>
            <p class="text-xl md:text-2xl text-gray-700 mt-4">
                To my girlfriend, best friend, and wonderful wife 💖
            </p>
            <p class="text-lg text-gray-600 mt-2">March 27, 2025</p>
        </div>

        <!-- Birthday Cake Section -->
        <div id="cake-container" class="transition-all duration-1000 opacity-0 scale-90">
            <div class="text-center mb-8">
                <div id="birthday-cake"
                    class="relative cursor-pointer transition-transform duration-300 transform hover:scale-105">
                    <div class="relative w-64 h-64 mx-auto">
                        <!-- Cake base -->
                        <div
                            class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-56 h-32 bg-gradient-to-b from-pink-300 to-pink-400 rounded-lg shadow-lg">
                            <!-- Cake layers -->
                            <div
                                class="absolute bottom-32 left-1/2 transform -translate-x-1/2 w-48 h-16 bg-gradient-to-b from-pink-200 to-pink-300 rounded-lg">
                            </div>
                            <div
                                class="absolute bottom-48 left-1/2 transform -translate-x-1/2 w-40 h-12 bg-gradient-to-b from-pink-100 to-pink-200 rounded-lg">
                            </div>

                            <!-- Cake decorations -->
                            <div
                                class="absolute bottom-60 left-1/2 transform -translate-x-1/2 w-4 h-12 bg-gradient-to-b from-yellow-300 to-yellow-400">
                            </div>

                            <!-- Candle flame -->
                            <div id="candle-flame"
                                class="absolute bottom-76 left-1/2 transform -translate-x-1/2 w-6 h-8 bg-gradient-to-b from-yellow-100 to-orange-400 rounded-full animate-flicker">
                            </div>

                            <!-- Cake frosting -->
                            <div class="absolute bottom-32 left-0 w-full">
                                <div class="w-2 h-2 bg-white rounded-full absolute left-4 top-1"></div>
                                <div class="w-2 h-2 bg-white rounded-full absolute left-12 top-3"></div>
                                <div class="w-2 h-2 bg-white rounded-full absolute left-20 top-2"></div>
                                <div class="w-2 h-2 bg-white rounded-full absolute left-28 top-1"></div>
                                <div class="w-2 h-2 bg-white rounded-full absolute left-36 top-3"></div>
                                <div class="w-2 h-2 bg-white rounded-full absolute left-44 top-2"></div>
                                <div class="w-2 h-2 bg-white rounded-full absolute left-52 top-1"></div>
                            </div>
                        </div>

                        <!-- Cake cut effect -->
                        <div id="cake-cut"
                            class="absolute bottom-0 left-1/2 transform -translate-x-1/2 w-56 h-60 transition-all duration-1000 opacity-0">
                            <div
                                class="absolute bottom-0 left-1/4 w-28 h-32 bg-gradient-to-b from-pink-300 to-pink-400 rounded-lg">
                            </div>
                            <div
                                class="absolute bottom-32 left-1/4 w-28 h-10 bg-gradient-to-b from-pink-200 to-pink-300 rounded-lg">
                            </div>
                            <div
                                class="absolute bottom-48 left-1/4 w-28 h-12 bg-gradient-to-b from-pink-100 to-pink-200 rounded-lg">
                            </div>

                            <!-- Inside of cake -->
                            <div
                                class="absolute bottom-0 left-1/2 w-28 h-32 bg-gradient-to-b from-yellow-100 to-yellow-200 rounded-tr-lg">
                            </div>
                            <div
                                class="absolute bottom-32 left-1/2 w-28 h-16 bg-gradient-to-b from-yellow-100 to-yellow-200 rounded-tr-lg">
                            </div>
                            <div
                                class="absolute bottom-48 left-1/2 w-20 h-12 bg-gradient-to-b from-yellow-100 to-yellow-200 rounded-tr-lg">
                            </div>
                        </div>
                    </div>

                    <!-- Knife animation -->
                    <div id="knife"
                        class="absolute right-1/4 top-1/2 transform rotate-45 transition-all duration-500 opacity-0">
                        <div class="w-6 h-20 bg-gray-300 rounded-t-full"></div>
                        <div class="w-6 h-4 bg-gray-700 -mt-1"></div>
                    </div>

                    <!-- Plate -->
                    <div class="w-72 h-8 bg-gray-100 rounded-full mx-auto -mt-4 shadow-md"></div>

                    <!-- Instruction -->
                    <div class="mt-4 text-center">
                        <p class="text-pink-600 font-medium">Click to cut the cake!</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- Celebration Message (after cake cut) -->
        <div id="celebration-message" class="text-center mb-12 animate-fade-in hidden">
            <h2 class="text-3xl font-bold text-pink-600 mb-4">Yay! Let's celebrate! 🎉</h2>
        </div>

        <!-- Photo Gallery -->
        <div id="photo-gallery" class="w-full max-w-4xl animate-slide-up hidden">
            <div class="overflow-hidden rounded-xl shadow-2xl bg-white/90">
                <div class="relative aspect-[16/9] overflow-hidden">
                    <!-- Main image -->
                    <div id="gallery-slide"
                        class="absolute inset-0 transition-opacity duration-500 ease-in-out flex items-center justify-center">
                        <img id="gallery-image" src="https://via.placeholder.com/600x400" alt="Photo"
                            class="w-full h-full object-cover">

                        <!-- Caption -->
                        <div
                            class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/70 to-transparent p-4 text-white">
                            <p id="gallery-caption" class="text-lg font-medium">Happy memories together ❤️</p>
                        </div>
                    </div>

                    <!-- Navigation buttons -->
                    <button id="prev-slide"
                        class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white rounded-full h-10 w-10 flex items-center justify-center">
                        <i data-lucide="chevron-left" class="h-6 w-6"></i>
                    </button>

                    <button id="next-slide"
                        class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/30 hover:bg-black/50 text-white rounded-full h-10 w-10 flex items-center justify-center">
                        <i data-lucide="chevron-right" class="h-6 w-6"></i>
                    </button>
                </div>

                <!-- Thumbnail navigation -->
                <div id="gallery-nav" class="flex justify-center p-2 gap-2 bg-gray-100">
                    <!-- Thumbnails will be added by JavaScript -->
                </div>
            </div>
        </div>

        <!-- Gift Button -->
        <div id="gift-button" class="mt-8 animate-bounce hidden">
            <button
                class="bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white px-8 py-6 rounded-full text-xl shadow-lg flex items-center">
                <i data-lucide="gift" class="mr-2"></i> Open Your Special Message
            </button>
        </div>

        <!-- Special Message -->
        <div id="message-card" class="mt-12 w-full max-w-2xl animate-fade-in hidden">
            <div class="w-full bg-white/90 shadow-xl border-pink-200 overflow-hidden rounded-lg">
                <div class="p-6 relative min-h-[200px]">
                    <!-- Decorative elements -->
                    <div class="absolute top-0 left-0 w-full h-full overflow-hidden pointer-events-none">
                        <div class="absolute top-2 left-2">
                            <i data-lucide="star" class="text-yellow-400 w-6 h-6"></i>
                        </div>
                        <div class="absolute bottom-2 right-2">
                            <i data-lucide="heart" class="text-pink-500 w-6 h-6"></i>
                        </div>
                        <div class="absolute top-2 right-2">
                            <i data-lucide="star" class="text-purple-400 w-4 h-4"></i>
                        </div>
                        <div class="absolute bottom-2 left-2">
                            <i data-lucide="heart" class="text-red-500 w-4 h-4"></i>
                        </div>
                    </div>

                    <!-- Message content -->
                    <div class="text-center py-8">
                        <p id="message-text" class="text-xl text-gray-800 leading-relaxed min-h-[100px] animate-typing">
                        </p>

                        <!-- Navigation buttons -->
                        <div class="flex justify-between mt-8">
                            <button id="prev-message"
                                class="border border-pink-300 text-pink-600 px-4 py-2 rounded-md disabled:opacity-50">
                                Previous
                            </button>

                            <div id="message-dots" class="flex gap-1">
                                <!-- Dots will be added by JavaScript -->
                            </div>

                            <button id="next-message"
                                class="border border-pink-300 text-pink-600 px-4 py-2 rounded-md disabled:opacity-50">
                                Next
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <div class="mt-16 text-center text-gray-600 flex items-center">
            <i data-lucide="heart" class="text-pink-500 mr-2" width="16" height="16"></i>
            <span>Made with love for Aditi</span>
        </div>
    </main>

    <!-- Audio Element -->
    <audio id="birthday-music" loop autoplay muted>
        <source src="audio.mp3" type="audio/mp3">
    </audio>

    <!-- JavaScript -->
    <script>
        // Initialize Lucide icons
        lucide.createIcons();

        // DOM Elements
        const cakeContainer = document.getElementById('cake-container');
        const birthdayCake = document.getElementById('birthday-cake');
        const knife = document.getElementById('knife');
        const candleFlame = document.getElementById('candle-flame');
        const cakeCut = document.getElementById('cake-cut');
        const celebrationMessage = document.getElementById('celebration-message');
        const photoGallery = document.getElementById('photo-gallery');
        const giftButton = document.getElementById('gift-button');
        const messageCard = document.getElementById('message-card');
        const confettiCanvas = document.getElementById('confetti-canvas');
        const balloonsContainer = document.getElementById('balloons-container');
        const musicToggle = document.getElementById('music-toggle');
        const birthdayMusic = document.getElementById('birthday-music');

        // Gallery Elements
        const galleryImage = document.getElementById('gallery-image');
        const galleryCaption = document.getElementById('gallery-caption');
        const prevSlide = document.getElementById('prev-slide');
        const nextSlide = document.getElementById('next-slide');
        const galleryNav = document.getElementById('gallery-nav');

        // Message Elements
        const messageText = document.getElementById('message-text');
        const prevMessage = document.getElementById('prev-message');
        const nextMessage = document.getElementById('next-message');
        const messageDots = document.getElementById('message-dots');

        // State
        let isCakeCut = false;
        let isPlayingMusic = false;
        let currentSlide = 0;
        let isTransitioning = false;
        let currentMessage = 0;
        let isTyping = false;
        let typeInterval = null;

        // Data
        const photos = [
            {
                src: 'aditi3.jpg',
                caption: 'Happy memories together ❤️'
            },
            {
                src: 'aditi4.jpg',
                caption: 'Always smiling'
            },
            {
                src: 'aditi2.jpg',
                caption: 'Beautiful you'
            },
            {
                src: 'aditi5.jpg',
                caption: 'Our favorite adventure'
            }
        ];

        const messages = [
            "Dear Aditi, on your special day, I want to tell you how much you mean to me.",
            "You're not just my girlfriend, but my best friend and the love of my life.",
            "Your smile brightens my darkest days, and your love gives me strength.",
            "I cherish every moment we spend together and look forward to our future.",
            "Happy Birthday to the most amazing person I know. I love you more than words can express! ❤️",
            "On your special day, I want to express my deepest gratitude for your love and support.",
            "You're not just a girlfriend, but a best friend and a wonderful wife.",
            "Thank you for being my partner in life, and for always being there for me.",
            "I love you Aditi! "
        ];

        // Initialize
        window.addEventListener('DOMContentLoaded', () => {
            // Show cake after delay
            setTimeout(() => {
                cakeContainer.classList.remove('opacity-0', 'scale-90');
                cakeContainer.classList.add('opacity-100', 'scale-100');
            }, 1500);

            // Initialize balloons
            createBalloons();

            // Initialize gallery navigation
            initGalleryNav();

            // Initialize message dots
            initMessageDots();

            // Setup event listeners
            setupEventListeners();

            // Automatically start music
            birthdayMusic.play().catch(error => {
                console.log('Autoplay was prevented:', error);
                // Optionally, you could add a user interaction prompt here
                musicToggle.classList.remove('hidden'); // Ensure music toggle is visible
            });

            // Update music toggle icon to reflect playing state
            const icon = musicToggle.querySelector('i');
            icon.setAttribute('data-lucide', 'volume-x');
            lucide.createIcons();
            isPlayingMusic = true;
        });

        // Modify toggleMusic function to reset state correctly
        function toggleMusic() {
            const icon = musicToggle.querySelector('i');

            if (isPlayingMusic) {
                birthdayMusic.pause();
                icon.setAttribute('data-lucide', 'volume-2');
            } else {
                birthdayMusic.play();
                icon.setAttribute('data-lucide', 'volume-x');
            }

            isPlayingMusic = !isPlayingMusic;
            lucide.createIcons();
        }

        window.addEventListener('DOMContentLoaded', () => {
            setTimeout(() => {
                birthdayMusic.muted = false;  // Unmute the audio after loading
                birthdayMusic.play().then(() => {
                    isPlayingMusic = true;
                    musicToggle.querySelector('i').setAttribute('data-lucide', 'volume-x');
                    lucide.createIcons();
                }).catch(error => {
                    console.log('Autoplay was prevented:', error);
                    musicToggle.classList.remove('hidden'); // Show button to let user play
                });
            }, 1000);
        });
        function enableAudio() {
            birthdayMusic.play().then(() => {
                isPlayingMusic = true;
                musicToggle.querySelector('i').setAttribute('data-lucide', 'volume-x');
                lucide.createIcons();
            }).catch(error => console.log('Playback failed:', error));

            document.body.removeEventListener('click', enableAudio); // Remove event listener after activation
        }

        // Add event listener to the whole page
        document.body.addEventListener('click', enableAudio);


        // Event Listeners
        function setupEventListeners() {
            // Cake hover effect
            birthdayCake.addEventListener('mouseenter', () => {
                if (!isCakeCut) {
                    knife.classList.add('opacity-100', 'translate-x-4', '-translate-y-4');
                    knife.classList.remove('opacity-0');
                }
            });

            birthdayCake.addEventListener('mouseleave', () => {
                knife.classList.remove('opacity-100', 'translate-x-4', '-translate-y-4');
                knife.classList.add('opacity-0');
            });

            // Cake click to cut
            birthdayCake.addEventListener('click', handleCakeCut);

            // Gallery navigation
            prevSlide.addEventListener('click', () => navigateGallery('prev'));
            nextSlide.addEventListener('click', () => navigateGallery('next'));

            // Gift button click
            giftButton.addEventListener('click', () => {
                messageCard.classList.remove('hidden');
                typeMessage(messages[currentMessage]);
            });

            // Message navigation
            prevMessage.addEventListener('click', () => {
                if (currentMessage > 0 && !isTyping) {
                    currentMessage--;
                    updateMessageDots();
                    typeMessage(messages[currentMessage]);
                }
            });

            nextMessage.addEventListener('click', () => {
                if (currentMessage < messages.length - 1 && !isTyping) {
                    currentMessage++;
                    updateMessageDots();
                    typeMessage(messages[currentMessage]);
                }
            });

            // Music toggle
            musicToggle.addEventListener('click', toggleMusic);
        }


        // Handle cake cutting
        function handleCakeCut() {
            if (isCakeCut) return;

            isCakeCut = true;

            // Hide flame and show cut cake
            candleFlame.style.opacity = '0';
            cakeCut.style.opacity = '1';

            // Show confetti
            confettiCanvas.classList.remove('hidden');
            initConfetti();

            // Show celebration message
            setTimeout(() => {
                birthdayCake.parentElement.classList.add('hidden');
                celebrationMessage.classList.remove('hidden');
            }, 1000);

            // Show photo gallery
            setTimeout(() => {
                photoGallery.classList.remove('hidden');
            }, 2000);

            // Show gift button
            setTimeout(() => {
                giftButton.classList.remove('hidden');
            }, 2500);
        }

        // Toggle music
        function toggleMusic() {
            const icon = musicToggle.querySelector('i');

            if (isPlayingMusic) {
                birthdayMusic.pause();
                icon.setAttribute('data-lucide', 'volume-2');
            } else {
                birthdayMusic.play();
                icon.setAttribute('data-lucide', 'volume-x');
            }

            isPlayingMusic = !isPlayingMusic;
            lucide.createIcons();
        }

        // Gallery functions
        function initGalleryNav() {
            // Create dots for each photo
            photos.forEach((_, index) => {
                const dot = document.createElement('button');
                dot.className = `w-2 h-2 rounded-full transition-all ${index === 0 ? 'bg-pink-500 w-4' : 'bg-gray-300'}`;
                dot.addEventListener('click', () => {
                    if (!isTransitioning) {
                        navigateGallery('goto', index);
                    }
                });
                galleryNav.appendChild(dot);
            });

            // Auto advance slides
            setInterval(() => {
                if (!isTransitioning) {
                    navigateGallery('next');
                }
            }, 5000);
        }

        function navigateGallery(direction, index = null) {
            if (isTransitioning) return;

            isTransitioning = true;

            // Fade out current slide
            galleryImage.style.opacity = '0';

            setTimeout(() => {
                // Update current slide index
                if (direction === 'next') {
                    currentSlide = (currentSlide + 1) % photos.length;
                } else if (direction === 'prev') {
                    currentSlide = (currentSlide - 1 + photos.length) % photos.length;
                } else if (direction === 'goto' && index !== null) {
                    currentSlide = index;
                }

                // Update image and caption
                galleryImage.src = photos[currentSlide].src;
                galleryCaption.textContent = photos[currentSlide].caption;

                // Update navigation dots
                Array.from(galleryNav.children).forEach((dot, i) => {
                    if (i === currentSlide) {
                        dot.classList.add('bg-pink-500', 'w-4');
                        dot.classList.remove('bg-gray-300');
                    } else {
                        dot.classList.remove('bg-pink-500', 'w-4');
                        dot.classList.add('bg-gray-300');
                    }
                });

                // Fade in new slide
                galleryImage.style.opacity = '1';

                // Reset transition state
                setTimeout(() => {
                    isTransitioning = false;
                }, 500);
            }, 500);
        }

        // Message functions
        function initMessageDots() {
            messages.forEach((_, index) => {
                const dot = document.createElement('div');
                dot.className = `w-2 h-2 rounded-full ${index === 0 ? 'bg-pink-500' : 'bg-gray-300'}`;
                messageDots.appendChild(dot);
            });

            // Disable previous button initially
            prevMessage.disabled = true;
        }

        function updateMessageDots() {
            Array.from(messageDots.children).forEach((dot, i) => {
                if (i === currentMessage) {
                    dot.classList.add('bg-pink-500');
                    dot.classList.remove('bg-gray-300');
                } else {
                    dot.classList.remove('bg-pink-500');
                    dot.classList.add('bg-gray-300');
                }
            });

            // Update button states
            prevMessage.disabled = currentMessage === 0 || isTyping;
            nextMessage.disabled = currentMessage === messages.length - 1 || isTyping;
        }

        function typeMessage(message) {
            // Clear any existing typing
            if (typeInterval) clearInterval(typeInterval);

            // Reset and start typing
            messageText.textContent = '';
            isTyping = true;
            messageText.classList.add('animate-typing');

            // Disable navigation during typing
            prevMessage.disabled = true;
            nextMessage.disabled = true;

            let i = 0;
            typeInterval = setInterval(() => {
                if (i < message.length) {
                    messageText.textContent += message.charAt(i);
                    i++;
                } else {
                    clearInterval(typeInterval);
                    isTyping = false;
                    messageText.classList.remove('animate-typing');
                    updateMessageDots();
                }
            }, 50);
        }

        // Confetti effect
        function initConfetti() {
            const ctx = confettiCanvas.getContext('2d');
            const confettiPieces = [];
            const colors = [
                '#FF69B4', '#FF1493', '#DA70D6', '#BA55D3',
                '#9370DB', '#8A2BE2', '#FFD700', '#FFA500'
            ];

            // Set canvas size
            confettiCanvas.width = window.innerWidth;
            confettiCanvas.height = window.innerHeight;

            // Create confetti pieces
            for (let i = 0; i < 200; i++) {
                confettiPieces.push({
                    x: Math.random() * confettiCanvas.width,
                    y: -20 - Math.random() * 100,
                    size: 5 + Math.random() * 10,
                    color: colors[Math.floor(Math.random() * colors.length)],
                    speed: 1 + Math.random() * 3,
                    angle: Math.random() * Math.PI * 2,
                    rotation: 0,
                    rotationSpeed: Math.random() * 0.2 - 0.1,
                });
            }

            // Animation loop
            function animate() {
                ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);

                confettiPieces.forEach(piece => {
                    // Update position
                    piece.y += piece.speed;
                    piece.x += Math.sin(piece.angle) * 0.5;
                    piece.rotation += piece.rotationSpeed;

                    // Draw confetti
                    ctx.save();
                    ctx.translate(piece.x, piece.y);
                    ctx.rotate(piece.rotation);
                    ctx.fillStyle = piece.color;
                    ctx.fillRect(-piece.size / 2, -piece.size / 2, piece.size, piece.size);
                    ctx.restore();

                    // Reset if off screen
                    if (piece.y > confettiCanvas.height) {
                        piece.y = -20;
                        piece.x = Math.random() * confettiCanvas.width;
                    }
                });

                requestAnimationFrame(animate);
            }

            // Handle window resize
            window.addEventListener('resize', () => {
                confettiCanvas.width = window.innerWidth;
                confettiCanvas.height = window.innerHeight;
            });

            // Start animation
            animate();
        }

        // Floating balloons
        function createBalloons() {
            const colors = [
                'bg-pink-500', 'bg-purple-500', 'bg-indigo-500',
                'bg-blue-500', 'bg-red-500', 'bg-yellow-500'
            ];

            // Create balloons
            for (let i = 0; i < 15; i++) {
                const balloon = document.createElement('div');

                // Balloon properties
                const size = 40 + Math.random() * 30;
                const x = Math.random() * 100;
                const y = 110 + Math.random() * 20;
                const color = colors[Math.floor(Math.random() * colors.length)];
                const speed = 0.1 + Math.random() * 0.2;
                const wobbleSpeed = 0.01 + Math.random() * 0.03;
                const wobbleAmount = 2 + Math.random() * 3;
                const wobbleOffset = Math.random() * Math.PI * 2;

                // Set balloon styles
                balloon.className = `absolute ${color} rounded-full pointer-events-auto cursor-pointer transition-all duration-300`;
                balloon.style.left = `${x}%`;
                balloon.style.bottom = `${y}%`;
                balloon.style.width = `${size}px`;
                balloon.style.height = `${size * 1.2}px`;
                balloon.style.opacity = '0.8';

                // Create balloon knot
                const knot = document.createElement('div');
                knot.className = 'absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-3 w-3 h-6 bg-gray-400 rounded-b-full';
                balloon.appendChild(knot);

                // Create balloon string
                const string = document.createElement('div');
                string.className = 'absolute bottom-0 left-1/2 transform -translate-x-1/2 translate-y-8 w-1 h-20 bg-gray-300';
                string.style.opacity = '0.7';
                string.style.transformOrigin = 'top';
                balloon.appendChild(string);

                // Create balloon highlight
                const highlight = document.createElement('div');
                highlight.className = 'absolute top-1/4 left-1/4 w-1/4 h-1/4 bg-white rounded-full';
                highlight.style.opacity = '0.3';
                balloon.appendChild(highlight);

                // Balloon pop event
                balloon.addEventListener('click', () => {
                    // Pop animation
                    balloon.style.opacity = '0';
                    balloon.style.transform = 'scale(1.5)';

                    // Replace balloon after delay
                    setTimeout(() => {
                        // Reset balloon position
                        balloon.style.left = `${Math.random() * 100}%`;
                        balloon.style.bottom = `${110 + Math.random() * 20}%`;
                        balloon.style.opacity = '0.8';
                        balloon.style.transform = 'scale(1)';
                        balloon.className = `absolute ${colors[Math.floor(Math.random() * colors.length)]} rounded-full pointer-events-auto cursor-pointer transition-all duration-300`;
                    }, 1000);
                });

                // Add balloon to container
                balloonsContainer.appendChild(balloon);

                // Animate balloon
                let currentY = y;
                let currentX = x;

                function animateBalloon() {
                    // Move balloon up
                    currentY -= speed;

                    // Wobble balloon horizontally
                    currentX += Math.sin(Date.now() * wobbleSpeed + wobbleOffset) * wobbleAmount / 10;

                    // Update position
                    balloon.style.bottom = `${currentY}%`;
                    balloon.style.left = `${currentX}%`;

                    // Animate string
                    string.style.transform = `translateY(${size * 0.1}px) rotate(${Math.sin(Date.now() * 0.001 + wobbleOffset) * 10}deg)`;

                    // Reset if off screen
                    if (currentY < -20) {
                        currentY = 110 + Math.random() * 20;
                        currentX = Math.random() * 100;
                    }

                    requestAnimationFrame(animateBalloon);
                }

                // Start animation
                animateBalloon();
            }
        }
    </script>
</body>

</html>